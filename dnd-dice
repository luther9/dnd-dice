#!/usr/bin/python3

import argparse
from random import Random


def reverse_sort(iterable):
    '''People will hate the RNG less if the bigger numbers come first.'''
    return sorted(iterable, reverse=True)


def roll_dice(rng, n, d):
    return reverse_sort(rng.randrange(d)+1 for _ in range(n))


parser = argparse.ArgumentParser()
parser.add_argument(
    'n', nargs='?', default=1, type=int,
    help='The number of dice to roll')
parser.add_argument(
    'd', nargs='?', default=20, type=int,
    help='The number of sides on each die')
parser.add_argument(
    '-c', action='store_true',
    help='Generate character stats')
parser.add_argument(
    '-s', type=int,
    help='The RNG seed')


def main():
    args = parser.parse_args()
    rng = Random(args.s)
    if args.c:
        scores = []
        for _ in range(6):
            roll = roll_dice(rng, 4, 6)
            print(roll)
            scores.append(sum(roll[:3]))
        print(reverse_sort(scores))
    else:
        roll = roll_dice(rng, args.n, args.d)
        print(roll)
        print(sum(roll))
main()
